<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday, My Love! ❤️</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary-pink: #ff69b4;
      --light-pink: #ffe4e1;
      --cream-white: #fffafa;
      --gold-flame: #ffd700;
      --orange-flame: #ffa500;
      --text-color: #8b008b;
      --shadow-color: rgba(0, 0, 0, 0.15);
      --dark-pink: #e05090; /* Warna pink yang lebih gelap untuk detail */
    }
    body {
      margin: 0;
      height: 100vh;
      background: linear-gradient(to bottom right, var(--light-pink), #ffc0cb);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: 'Open Sans', sans-serif;
      overflow: hidden;
      position: relative;
      color: var(--text-color);
    }

    /* Dekorasi Latar Belakang */
    .background-decoration {
      position: absolute;
      pointer-events: none;
      opacity: 0.6;
      animation: floatAndFade 15s infinite ease-in-out;
    }
    .balloon {
      width: 80px;
      height: 100px;
      background: linear-gradient(to top, #ff99cc, #ff66b2);
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      box-shadow: inset -5px -5px 10px rgba(0,0,0,0.2);
      position: absolute;
      animation: floatAndFade 15s infinite ease-in-out;
    }
    .balloon::before {
      content: '';
      position: absolute;
      width: 2px;
      height: 50px;
      background: #8b008b;
      bottom: -50px;
      left: 50%;
      transform: translateX(-50%);
    }
    .star {
      font-size: 3em;
      color: var(--gold-flame);
      text-shadow: 0 0 10px var(--orange-flame);
      animation: twinkle 2s infinite alternate, floatAndFade 10s infinite ease-in-out;
    }
    .glitter {
      width: 5px;
      height: 5px;
      background: #fff;
      border-radius: 50%;
      box-shadow: 0 0 5px #fff;
      animation: floatAndFade 10s infinite ease-in-out;
    }

    @keyframes floatAndFade {
      0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0.6; }
      25% { transform: translateY(-20px) translateX(10px) rotate(5deg); opacity: 0.7; }
      50% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0.6; }
      75% { transform: translateY(20px) translateX(-10px) rotate(-5deg); opacity: 0.7; }
      100% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0.6; }
    }
    @keyframes twinkle {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    h1 {
      font-family: 'Dancing Script', cursive;
      color: var(--primary-pink);
      margin-bottom: 20px;
      font-size: 4em;
      text-shadow: 4px 4px 8px var(--shadow-color);
      opacity: 0;
      transform: scale(0.8);
      animation: fadeInScale 2s ease forwards;
      animation-delay: 5.5s;
      letter-spacing: 2px;
      z-index: 2; /* Pastikan di atas dekorasi latar belakang */
    }
    @keyframes fadeInScale {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }
    .cake {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 50px;
      perspective: 1000px;
      z-index: 5; /* Pastikan di atas dekorasi latar belakang */
    }
    .tier {
      border-radius: 20px;
      background: var(--light-pink);
      border: 6px solid var(--primary-pink);
      position: relative;
      margin-top: -20px;
      opacity: 0;
      transform: translateY(-300px) rotateX(15deg);
      animation: dropAndBounce 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards; /* Animasi lebih panjang */
      box-shadow: 0 10px 25px var(--shadow-color);
      overflow: hidden; /* Untuk menampung sprinkles */
    }
    @keyframes dropAndBounce {
      0% { transform: translateY(-300px) rotateX(15deg); opacity: 0; }
      50% { transform: translateY(50px) rotateX(-5deg); opacity: 1; } /* Sedikit overshoot ke bawah */
      75% { transform: translateY(-10px) rotateX(2deg); } /* Sedikit memantul ke atas */
      100% { transform: translateY(0) rotateX(0deg); opacity: 1; }
    }
    .tier-bottom { width: 300px; height: 150px; animation-delay: 0.2s; }
    .tier-middle { width: 240px; height: 130px; animation-delay: 1s; }
    .tier-top { width: 180px; height: 110px; animation-delay: 1.8s; }
    .cream {
      position: absolute;
      top: -15px;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      display: flex;
      justify-content: space-evenly;
      opacity: 0;
      animation: fadeIn 0.8s forwards;
    }
    .tier-bottom .cream { animation-delay: 0.6s; }
    .tier-middle .cream { animation-delay: 1.4s; }
    .tier-top .cream { animation-delay: 2.2s; }
    .cream span {
      width: 22px;
      height: 22px;
      background: var(--cream-white);
      border: 2px solid var(--primary-pink);
      border-radius: 50%;
      opacity: 0;
      transform: scale(0);
      animation: creamPop 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    @keyframes creamPop {
      0% { transform: scale(0); opacity: 0; }
      70% { transform: scale(1.2); opacity: 1; }
      100% { transform: scale(1); opacity: 1; }
    }

    /* Sprinkles */
    .sprinkles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }
    .sprinkle {
      position: absolute;
      width: 4px;
      height: 10px;
      background: var(--dark-pink);
      border-radius: 2px;
      opacity: 0;
      animation: sprinkleFall 0.8s ease-out forwards;
    }
    .tier-bottom .sprinkle { animation-delay: 2.5s; }
    .tier-middle .sprinkle { animation-delay: 2.7s; }
    .tier-top .sprinkle { animation-delay: 2.9s; }

    @keyframes sprinkleFall {
      0% { transform: translateY(-20px) rotate(0deg); opacity: 0; }
      100% { transform: translateY(0) rotate(360deg); opacity: 1; }
    }

    .candle {
      position: absolute;
      top: -80px;
      width: 30px;
      height: 80px;
      background: linear-gradient(to top, var(--cream-white), #f0f0f0);
      border-radius: 5px;
      border: 3px solid var(--primary-pink);
      opacity: 0;
      animation: drop 1s ease forwards;
      animation-delay: 4s;
      cursor: pointer;
      z-index: 10;
      box-shadow: 0 4px 10px var(--shadow-color);
      transition: transform 0.3s ease;
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }
    .candle:hover { transform: scale(1.05); }
    .candle:active { transform: scale(0.95); }
    .flame {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      width: 25px;
      height: 35px;
      background: radial-gradient(circle at 50% 0, var(--gold-flame), var(--orange-flame), transparent);
      border-radius: 50% 50% 30% 30% / 60% 60% 40% 40%;
      border: 1px solid #ffb700;
      animation: flicker 0.2s infinite alternate;
      box-shadow: 0 0 15px var(--gold-flame), 0 0 30px var(--orange-flame);
    }
    @keyframes flicker {
      0% { transform: translateX(-50%) scaleY(1) scaleX(1); opacity: 1; }
      50% { transform: translateX(-50%) scaleY(1.1) scaleX(0.9); opacity: 0.9; }
      100% { transform: translateX(-50%) scaleY(0.9) scaleX(1.1); opacity: 1; }
    }
    @keyframes drop {
      from { transform: translateY(-300px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    #showLetterBtn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 12px 24px;
      font-size: 1.2rem;
      font-weight: 600;
      color: white;
      background-color: var(--primary-pink);
      border: none;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(255, 105, 180, 0.6);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease;
      z-index: 15;
      user-select: none;
    }
    #showLetterBtn.visible {
      opacity: 1;
      pointer-events: auto;
    }
    #letter {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      max-width: 600px;
      width: 90%;
      max-height: 70vh;
      overflow-y: auto;
      background: var(--cream-white);
      border: 3px solid var(--primary-pink);
      border-radius: 15px;
      padding: 30px 25px;
      box-shadow: 0 8px 30px var(--shadow-color);
      font-size: 1.2rem;
      line-height: 1.7;
      color: var(--text-color);
      font-family: 'Open Sans', sans-serif;
      text-align: center;
      z-index: 20;
      white-space: normal;
    }
    /* Confetti sederhana */
    .confetti {
      position: fixed;
      top: -10px;
      font-size: 24px;
      animation: fall 3s linear forwards;
      z-index: 9999;
      user-select: none;
      pointer-events: none;
      opacity: 0.8;
    }
    @keyframes fall {
      0% { transform: translateY(-10px) rotate(0deg) scale(1); opacity: 0.8; }
      100% { transform: translateY(100vh) rotate(360deg) scale(0.5); opacity: 0; }
    }
    @media (max-width: 768px) {
      h1 { font-size: 3em; }
      .tier-bottom { width: 250px; height: 120px; }
      .tier-middle { width: 200px; height: 100px; }
      .tier-top { width: 150px; height: 80px; }
      .cream span { width: 18px; height: 18px; }
      .candle { top: -70px; width: 25px; height: 70px; }
      .flame { width: 20px; height: 28px; top: -35px; }
      #letter { font-size: 1rem; max-height: 60vh; }
      #showLetterBtn { font-size: 1rem; padding: 10px 20px; }
    }
    @media (max-width: 480px) {
      h1 { font-size: 2.5em; }
      .tier-bottom { width: 200px; height: 100px; }
      .tier-middle { width: 160px; height: 80px; }
      .tier-top { width: 120px; height: 60px; }
      .cream span { width: 15px; height: 15px; }
      .candle { top: -60px; width: 22px; height: 60px; }
      .flame { width: 15px; height: 20px; top: -25px; }
      #letter { font-size: 0.9rem; max-height: 50vh; }
      #showLetterBtn { font-size: 0.9rem; padding: 8px 16px; }
    }
  </style>
</head>
<body>

  <!-- Dekorasi Latar Belakang -->
  <div class="background-decoration balloon" style="top: 10%; left: 15%; animation-delay: 0s;"></div>
  <div class="background-decoration balloon" style="top: 20%; right: 10%; animation-delay: 3s; transform: scale(0.8);"></div>
  <div class="background-decoration star" style="top: 5%; left: 5%; animation-delay: 1s;">✨</div>
  <div class="background-decoration star" style="top: 15%; right: 20%; animation-delay: 4s; transform: scale(0.7);">🌟</div>
  <div class="background-decoration glitter" style="top: 30%; left: 25%; animation-delay: 2s;"></div>
  <div class="background-decoration glitter" style="top: 40%; right: 5%; animation-delay: 5s;"></div>
  <div class="background-decoration glitter" style="top: 50%; left: 10%; animation-delay: 0.5s;"></div>
  <div class="background-decoration glitter" style="top: 60%; right: 15%; animation-delay: 3.5s;"></div>


  <h1>Happy Birthday, My Love! ❤️</h1>

  <div class="cake">
    <div class="candle" title="Klik lilin untuk meniup dan lihat surat cinta">
      <div class="flame"></div>
    </div>
    <div class="tier tier-top">
      <div class="cream">
        <span></span><span></span><span></span>
      </div>
      <div class="sprinkles"></div>
    </div>
    <div class="tier tier-middle">
      <div class="cream">
        <span></span><span></span><span></span><span></span>
      </div>
      <div class="sprinkles"></div>
    </div>
    <div class="tier tier-bottom">
      <div class="cream">
        <span></span><span></span><span></span><span></span><span></span>
      </div>
      <div class="sprinkles"></div>
    </div>
    <button id="showLetterBtn" aria-label="Tampilkan surat cinta">Baca Surat Cinta</button>
  </div>

  <div id="letter" role="dialog" aria-modal="true" aria-labelledby="letterTitle" tabindex="-1">
    <h2 id="letterTitle" style="font-family: 'Dancing Script', cursive; color: var(--primary-pink); margin-bottom: 1rem;">Surat Cinta</h2>
    <p>Untuk Shiraa, cintaku yang paling manis ❤️,,</p>
    <p>Di hari spesialmu ini, hatiku dipenuhi rasa syukur dan kebahagiaan yang tak terhingga. Setiap momen bersamamu adalah anugerah terindah dalam hidupku. Kamu adalah cahaya yang menerangi hari-hariku, melodi terindah dalam setiap langkahku.</p>
    <p>Semoga ulang tahunmu ini dipenuhi dengan tawa, cinta, dan semua impianmu menjadi kenyataan. Aku berjanji akan selalu ada di sisimu, menjadi bahu untuk bersandar, tangan untuk digenggam, dan hati yang akan selalu mencintaimu, hari ini dan selamanya.</p>
    <p>Selamat ulang tahun, sayangku. Aku mencintaimu lebih dari kata-kata bisa ungkapkan.</p>
    <p>💌 I love you endlessly, lebih dari yang bisa terlukis oleh kata-kata.</p>
    <p>Selamat ulang tahun, sayangku. Aku mencintaimu lebih dari kata-kata bisa ungkapkan, lebih dalam dari lautan, dan lebih tinggi dari langit.</p>
    <p>I love you forever and always, my one and only ❤️.</p>
    <p>Dengan seluruh cintaku,<br> dari Caspian 💖</p>
  </div>

  <script>
    const candle = document.querySelector('.candle');
    const flame = document.querySelector('.flame');
    const showLetterBtn = document.getElementById('showLetterBtn');
    const letterDiv = document.getElementById('letter');
    const creamDots = document.querySelectorAll('.cream span');
    const body = document.body;
    const tiers = document.querySelectorAll('.tier');

    // Cream animation after cake drop
    window.addEventListener('load', () => {
      creamDots.forEach((dot, i) => {
        setTimeout(() => {
          dot.style.opacity = '1';
          dot.style.transform = 'scale(1)';
          dot.style.animation = 'creamPop 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards';
        }, 2500 + i * 100);
      });

      // Generate sprinkles after cake animation
      tiers.forEach(tier => {
        const sprinklesContainer = tier.querySelector('.sprinkles');
        const numSprinkles = tier.classList.contains('tier-top') ? 15 : (tier.classList.contains('tier-middle') ? 25 : 35);
        for (let i = 0; i < numSprinkles; i++) {
          const sprinkle = document.createElement('div');
          sprinkle.classList.add('sprinkle');
          sprinkle.style.left = Math.random() * 100 + '%';
          sprinkle.style.top = Math.random() * 100 + '%';
          sprinkle.style.transform = `rotate(${Math.random() * 360}deg)`;
          sprinkle.style.animationDelay = `${2.5 + Math.random() * 0.5}s`; // Delay after cake drop
          sprinklesContainer.appendChild(sprinkle);
        }
      });
    });

    // Simple confetti effect with fewer emojis and less quantity
    function launchConfetti() {
      const emojis = ['✨', '🌸', '💕', '💖', '🎉']; // Tambah emoji
      for (let i = 0; i < 30; i++) { // Tambah jumlah confetti
        const confetti = document.createElement('div');
        confetti.classList.add('confetti');
        confetti.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        confetti.style.left = Math.random() * window.innerWidth + 'px';
        confetti.style.animationDuration = (Math.random() * 3 + 3) + 's'; // Durasi lebih panjang
        confetti.style.animationDelay = (Math.random() * 0.8) + 's'; // Delay acak
        confetti.style.opacity = Math.random() * 0.7 + 0.3; // Opacity lebih bervariasi
        confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
        body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 6000); // Hapus setelah durasi animasi
      }
    }

    candle.addEventListener('click', () => {
      if (flame.style.display === 'none') return;
      flame.style.display = 'none';
      launchConfetti();
      showLetterBtn.classList.add('visible');
    });

    showLetterBtn.addEventListener('click', () => {
      letterDiv.style.display = 'block';
      letterDiv.focus();
      showLetterBtn.style.display = 'none';
    });

    // Optional: tutup surat jika klik di luar surat
    document.addEventListener('click', (e) => {
      if (letterDiv.style.display === 'block' && !letterDiv.contains(e.target) && e.target !== showLetterBtn && e.target !== candle) {
        letterDiv.style.display = 'none';
        showLetterBtn.style.display = 'block';
        showLetterBtn.classList.remove('visible');
        flame.style.display = 'block';
      }
    });
  </script>

</body>
</html>
<!-- Dekorasi Latar Belakang -->
<div class="background-decoration balloon" style="top: 10%; left: 15%; animation-delay: 0s;"></div>
<div class="background-decoration balloon" style="top: 20%; right: 10%; animation-delay: 3s; transform: scale(0.8);"></div>
<div class="background-decoration balloon" style="bottom: 15%; left: 5%; animation-delay: 6s; transform: scale(0.9);"></div>
<div class="background-decoration balloon" style="bottom: 5%; right: 20%; animation-delay: 9s; transform: scale(0.75);"></div>

<div class="background-decoration star" style="top: 5%; left: 5%; animation-delay: 1s;">✨</div>
<div class="background-decoration star" style="top: 15%; right: 20%; animation-delay: 4s; transform: scale(0.7);">🌟</div>
<div class="background-decoration star" style="bottom: 10%; left: 25%; animation-delay: 7s; transform: scale(0.85);">⭐</div>
<div class="background-decoration star" style="top: 30%; left: 40%; animation-delay: 2s; transform: scale(0.6);">✨</div>
<div class="background-decoration star" style="bottom: 20%; right: 30%; animation-delay: 5s; transform: scale(0.9);">🌟</div>

<div class="background-decoration glitter" style="top: 30%; left: 25%; animation-delay: 2s;"></div>
<div class="background-decoration glitter" style="top: 40%; right: 5%; animation-delay: 5s;"></div>
<div class="background-decoration glitter" style="top: 50%; left: 10%; animation-delay: 0.5s;"></div>
<div class="background-decoration glitter" style="top: 60%; right: 15%; animation-delay: 3.5s;"></div>
<div class="background-decoration glitter" style="bottom: 40%; left: 30%; animation-delay: 1.5s;"></div>
<div class="background-decoration glitter" style="bottom: 25%; right: 40%; animation-delay: 4.5s;"></div>
<div class="background-decoration glitter" style="top: 10%; left: 60%; animation-delay: 2.5s;"></div>
<div class="background-decoration glitter" style="bottom: 5%; left: 70%; animation-delay: 5.5s;"></div>

 <div class="cake">
  <!-- isi kue -->
  <div class="cherry"></div>
  <div class="cherry-stem"></div>
</div>